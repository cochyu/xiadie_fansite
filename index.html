<!--
    æ„Ÿè°¢kimiæä¾›çš„ä»£ç æŒ‡å¯¼
    ç±³æ¸¸ç¤¾æä¾›çš„å›¾ç‰‡ç´ æ
-->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éè¶çš„æ¸©é¦¨å°çª - æ˜Ÿç©¹é“é“åŒäººç«™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            overflow-x: hidden;
            background-color: #f5f5f5;
        }

        /* ä¸»é¡µæ ·å¼ */
        .home-container {
            position: relative;
            min-height: 100vh;
            background-image: url('https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/main_bg.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding-top: 20vh;
            color: white;
        }

        .title {
            font-size: 4em;
            margin-bottom: 20px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
            animation: glow 2s ease-in-out infinite alternate;
            color: #00BFFF; /* å¤©è“è‰² */
        }

        @keyframes glow {
            from { text-shadow: 3px 3px 6px rgba(0,0,0,0.7), 0 0 10px rgba(0, 191, 255, 0.5); }
            to { text-shadow: 3px 3px 6px rgba(0,0,0,0.7), 0 0 20px rgba(0, 191, 255, 0.8); }
        }

        .subtitle {
            font-size: 1.5em;
            margin-bottom: 50px;
            opacity: 0.9;
            color: #00BFFF; /* å¤©è“è‰² */
        }

        .menu-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 50px;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .menu-item:hover {
            transform: translateY(-10px) scale(1.05);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .menu-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .menu-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .menu-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* éŸ³ä¹æ§åˆ¶ */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .music-control:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .music-control.playing {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        /* å­é¡µé¢é€šç”¨æ ·å¼ */
        .sub-page {
            display: none;
            min-height: 100vh;
            padding: 20px;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .sub-page.active {
            display: block;
        }

        /* å­é¡µé¢èƒŒæ™¯å›¾ç‰‡ */
        #wallpaperPage {
            background-image: url('https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/wp_bg.jpg');
        }

        #forumPage {
            background-image: url('https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/blog_bg.png');
        }

        #quizPage {
            background-image: url('https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/test_bg.jpg');
        }

        .header {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .back-btn {
            background: rgba(74, 111, 165, 0.8);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .back-btn:hover {
            background: rgba(74, 111, 165, 1);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        /* å£çº¸é¡µé¢ */
        .wallpaper-tabs {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.5);
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.1);
        }

        .tab-btn.active {
            background: rgba(74, 111, 165, 0.8);
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .wallpaper-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .wallpaper-item {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .wallpaper-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .wallpaper-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .wallpaper-info {
            padding: 15px;
        }

        .wallpaper-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }

        .like-btn, .download-btn {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.5);
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .like-btn:hover, .download-btn:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .like-btn.liked {
            background: rgba(255, 107, 107, 0.8);
            color: white;
        }

        .upload-section {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .upload-btn {
            background: rgba(74, 111, 165, 0.8);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .upload-btn:hover {
            background: rgba(74, 111, 165, 1);
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        /* è®ºå›é¡µé¢ */
        .forum-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
        }

        .login-form, .register-form {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            margin: 0 auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .post-form {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .post-item {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-actions {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        /* ç­”é¢˜é¡µé¢ */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .question {
            margin-bottom: 30px;
        }

        .question h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.5);
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateX(5px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .option.selected {
            background: rgba(74, 111, 165, 0.8);
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .quiz-result {
            text-align: center;
            padding: 40px;
        }

        .result-score {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 20px;
        }

        .result-level {
            font-size: 1.5em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5em;
            }
            
            .menu-container {
                flex-direction: column;
                align-items: center;
            }
            
            .wallpaper-grid {
                grid-template-columns: 1fr;
            }
            
            .forum-header {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- ä¸»é¡µ -->
    <div class="home-container" id="homePage">
        <div class="overlay"></div>
        <div class="content">
            <h1 class="title">éè¶çš„æ¸©é¦¨å°çª</h1>
            <p class="subtitle">æ¬¢è¿æ¥åˆ°æ˜Ÿç©¹é“é“æœ€å—æ¬¢è¿è§’è‰²çš„ä¸“å±å¤©åœ°</p>
            
            <div class="menu-container">
                <a href="#" class="menu-item" onclick="showPage('wallpaperPage')">
                    <div class="menu-icon">ğŸ–¼ï¸</div>
                    <div class="menu-title">ç²¾ç¾å£çº¸</div>
                    <div class="menu-desc">æ”¶é›†éè¶æœ€ç¾ç¬é—´</div>
                </a>
                
                <a href="#" class="menu-item" onclick="showPage('forumPage')">
                    <div class="menu-icon">ğŸ’¬</div>
                    <div class="menu-title">è®¨è®ºè®ºå›</div>
                    <div class="menu-desc">ä¸åŒå¥½åˆ†äº«å¿ƒå¾—</div>
                </a>
                
                <a href="#" class="menu-item" onclick="showPage('quizPage')">
                    <div class="menu-icon">ğŸ¯</div>
                    <div class="menu-title">å¨åº¦æµ‹è¯•</div>
                    <div class="menu-desc">æµ‹æµ‹ä½ å¯¹éè¶çš„äº†è§£</div>
                </a>
            </div>
        </div>
        
        <div class="music-control" id="musicControl" onclick="toggleMusic()">
            ğŸµ
            <audio id="bgm" loop preload="auto">
                <source src="https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/bgmusic.mp3" type="audio/mpeg">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘ã€‚
            </audio>
        </div>
    </div>

    <!-- å£çº¸é¡µé¢ -->
    <div class="sub-page" id="wallpaperPage">
        <div class="header">
            <button class="back-btn" onclick="showPage('homePage')">â† è¿”å›ä¸»é¡µ</button>
            <h2>éè¶ç²¾ç¾å£çº¸</h2>
        </div>
        
        <div class="wallpaper-tabs">
            <button class="tab-btn active" onclick="switchTab('mobile')">æ‰‹æœºå£çº¸</button>
            <button class="tab-btn" onclick="switchTab('desktop')">æ¡Œé¢å£çº¸</button>
        </div>
        
        <div class="upload-section">
            <h3>åˆ†äº«ä½ çš„æ”¶è—</h3>
            <p>ä¸Šä¼ ä½ æœ€å–œæ¬¢çš„éè¶å£çº¸ï¼Œä¸å¤§å®¶åˆ†äº«è¿™ä»½ç¾å¥½</p>
            <input type="file" id="wallpaperUpload" accept="image/*" style="display: none;" onchange="uploadWallpaper()">
            <button class="upload-btn" onclick="document.getElementById('wallpaperUpload').click()">ä¸Šä¼ å£çº¸</button>
        </div>
        
        <div class="wallpaper-grid" id="wallpaperGrid">
            <!-- æ‰‹æœºå£çº¸ -->
            <div class="wallpaper-item mobile-wallpaper">
                <img src="https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/blog_bg.png" alt="æ‰‹æœºå£çº¸1" class="wallpaper-img">
                <div class="wallpaper-info">
                    <h4>éè¶ - æ‰‹æ¸¸ä¸“å±</h4>
                    <p>ä¸Šä¼ è€…ï¼šè¶è¯­è€…</p>
                    <div class="wallpaper-actions">
                        <button class="like-btn" onclick="toggleLike(this)">
                            <span class="like-count">156</span> â¤ï¸
                        </button>
                        <button class="download-btn" onclick="downloadWallpaper('blog_bg.png')">
                            ä¸‹è½½ ğŸ“¥
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- æ¡Œé¢å£çº¸ -->
            <div class="wallpaper-item desktop-wallpaper">
                <img src="https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/wp_bg.jpg" alt="æ¡Œé¢å£çº¸1" class="wallpaper-img">
                <div class="wallpaper-info">
                    <h4>éè¶ - æ˜Ÿç©¹ä¹‹èˆ</h4>
                    <p>ä¸Šä¼ è€…ï¼šè¶èˆå¤©æ¶¯</p>
                    <div class="wallpaper-actions">
                        <button class="like-btn" onclick="toggleLike(this)">
                            <span class="like-count">128</span> â¤ï¸
                        </button>
                        <button class="download-btn" onclick="downloadWallpaper('wp_bg.jpg')">
                            ä¸‹è½½ ğŸ“¥
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="wallpaper-item desktop-wallpaper">
                <img src="https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/test_bg.jpg" alt="æ¡Œé¢å£çº¸2" class="wallpaper-img">
                <div class="wallpaper-info">
                    <h4>éè¶ - æµ‹è¯•ä¹‹ç¾</h4>
                    <p>ä¸Šä¼ è€…ï¼šæ˜Ÿè½¨æ—…äºº</p>
                    <div class="wallpaper-actions">
                        <button class="like-btn" onclick="toggleLike(this)">
                            <span class="like-count">95</span> â¤ï¸
                        </button>
                        <button class="download-btn" onclick="downloadWallpaper('test_bg.jpg')">
                            ä¸‹è½½ ğŸ“¥
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="wallpaper-item desktop-wallpaper">
                <img src="https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/main_bg.jpg" alt="æ¡Œé¢å£çº¸3" class="wallpaper-img">
                <div class="wallpaper-info">
                    <h4>éè¶ - ä¸»èƒŒæ™¯å›¾</h4>
                    <p>ä¸Šä¼ è€…ï¼šæ¨±èŠ±é£˜è½</p>
                    <div class="wallpaper-actions">
                        <button class="like-btn" onclick="toggleLike(this)">
                            <span class="like-count">203</span> â¤ï¸
                        </button>
                        <button class="download-btn" onclick="downloadWallpaper('main_bg.jpg')">
                            ä¸‹è½½ ğŸ“¥
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- è®ºå›é¡µé¢ -->
    <div class="sub-page" id="forumPage">
        <div class="header">
            <button class="back-btn" onclick="showPage('homePage')">â† è¿”å›ä¸»é¡µ</button>
            <h2>éè¶è®¨è®ºåŒº</h2>
        </div>
        
        <div class="forum-header">
            <div class="user-info" id="userInfo">
                <div class="avatar">ğŸ‘¤</div>
                <div>
                    <div id="userName">æœªç™»å½•</div>
                    <button class="back-btn" onclick="showLogin()">ç™»å½•/æ³¨å†Œ</button>
                </div>
            </div>
            <button class="upload-btn" onclick="showPostForm()">å‘å¸ƒæ–°å¸–</button>
        </div>
        
        <div class="login-form" id="loginForm" style="display: none;">
            <h3>ç”¨æˆ·ç™»å½•</h3>
            <div class="form-group">
                <label>é‚®ç®±</label>
                <input type="email" id="email" placeholder="è¯·è¾“å…¥é‚®ç®±">
            </div>
            <div class="form-group">
                <label>å¯†ç </label>
                <input type="password" id="password" placeholder="è¯·è¾“å…¥å¯†ç ">
            </div>
            <button class="upload-btn" onclick="login()">ç™»å½•</button>
            <button class="back-btn" onclick="showRegister()">æ³¨å†Œæ–°è´¦å·</button>
        </div>
        
        <div class="register-form" id="registerForm" style="display: none;">
            <h3>ç”¨æˆ·æ³¨å†Œ</h3>
            <div class="form-group">
                <label>é‚®ç®±</label>
                <input type="email" id="regEmail" placeholder="è¯·è¾“å…¥é‚®ç®±">
            </div>
            <div class="form-group">
                <label>å¯†ç </label>
                <input type="password" id="regPassword" placeholder="è¯·è¾“å…¥å¯†ç ">
            </div>
            <div class="form-group">
                <label>æ˜µç§°</label>
                <input type="text" id="nickname" placeholder="è¯·è¾“å…¥æ˜µç§°">
            </div>
            <div class="form-group">
                <label>æ€§åˆ«</label>
                <select id="gender">
                    <option>ä¿å¯†</option>
                    <option>ç”·</option>
                    <option>å¥³</option>
                </select>
            </div>
            <div class="form-group">
                <label>å¹´é¾„</label>
                <input type="number" id="age" placeholder="è¯·è¾“å…¥å¹´é¾„">
            </div>
            <button class="upload-btn" onclick="register()">æ³¨å†Œ</button>
            <button class="back-btn" onclick="showLogin()">è¿”å›ç™»å½•</button>
        </div>
        
        <div class="post-form" id="postForm" style="display: none;">
            <h3>å‘å¸ƒæ–°å¸–</h3>
            <div class="form-group">
                <label>æ ‡é¢˜</label>
                <input type="text" id="postTitle" placeholder="è¯·è¾“å…¥æ ‡é¢˜">
            </div>
            <div class="form-group">
                <label>å†…å®¹</label>
                <textarea id="postContent" rows="5" placeholder="åˆ†äº«ä½ å¯¹éè¶çš„æƒ³æ³•..."></textarea>
            </div>
            <button class="upload-btn" onclick="publishPost()">å‘å¸ƒ</button>
            <button class="back-btn" onclick="hidePostForm()">å–æ¶ˆ</button>
        </div>
        
        <div id="forumPosts">
            <div class="post-item">
                <div class="post-header">
                    <div class="user-info">
                        <div class="avatar">ğŸ¦‹</div>
                        <div>
                            <div>è¶èˆå¤©æ¶¯</div>
                            <small>2024-01-15 14:30</small>
                        </div>
                    </div>
                </div>
                <h4>éè¶çš„é­…åŠ›ç©¶ç«Ÿåœ¨å“ªé‡Œï¼Ÿ</h4>
                <p>æˆ‘è§‰å¾—éè¶æœ€å¸å¼•äººçš„åœ°æ–¹ä¸ä»…æ˜¯å¥¹çš„å¤–è¡¨ï¼Œæ›´æ˜¯é‚£ç§ç¥ç§˜è€Œåˆä¼˜é›…çš„æ°”è´¨ã€‚æ¯æ¬¡å¥¹åœ¨å‰§æƒ…ä¸­å‡ºç°éƒ½è®©äººçœ¼å‰ä¸€äº®...</p>
                <div class="post-actions">
                    <button class="like-btn" onclick="toggleLike(this)">
                        <span class="like-count">42</span> ğŸ‘
                    </button>
                    <button class="back-btn" onclick="showComments()">ğŸ’¬ è¯„è®º (8)</button>
                </div>
            </div>
            
            <div class="post-item">
                <div class="post-header">
                    <div class="user-info">
                        <div class="avatar">âœ¨</div>
                        <div>
                            <div>æ˜Ÿè½¨æ—…äºº</div>
                            <small>2024-01-14 20:15</small>
                        </div>
                    </div>
                </div>
                <h4>åˆ†äº«ä¸€å¼ è¶…ç¾çš„éè¶åŒäººå›¾</h4>
                <p>ä»Šå¤©åˆšå®Œæˆçš„ç”»ä½œï¼Œæƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼èŠ±äº†æ•´æ•´ä¸€å‘¨çš„æ—¶é—´ï¼Œå¸Œæœ›èƒ½è¿˜åŸå‡ºéè¶é‚£ç§ç‹¬ç‰¹çš„æ°”è´¨ã€‚</p>
                <div class="post-actions">
                    <button class="like-btn" onclick="toggleLike(this)">
                        <span class="like-count">128</span> ğŸ‘
                    </button>
                    <button class="back-btn" onclick="showComments()">ğŸ’¬ è¯„è®º (23)</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ç­”é¢˜é¡µé¢ -->
    <div class="sub-page" id="quizPage">
        <div class="header">
            <button class="back-btn" onclick="showPage('homePage')">â† è¿”å›ä¸»é¡µ</button>
            <h2>éè¶å¨åº¦æµ‹è¯•</h2>
        </div>
        
        <div class="quiz-container" id="quizContainer">
            <div id="quizContent">
                <h3>æµ‹è¯•ä½ å¯¹éè¶çš„äº†è§£ç¨‹åº¦ï¼</h3>
                <p>å‡†å¤‡å¥½æ¥å—æŒ‘æˆ˜äº†å—ï¼Ÿ</p>
                <button class="upload-btn" onclick="startQuiz()">å¼€å§‹æµ‹è¯•</button>
            </div>
        </div>
    </div>

    <script>
        // éŸ³ä¹æ§åˆ¶
        function toggleMusic() {
            const audio = document.getElementById('bgm');
            const ctrl = document.getElementById('musicControl');
            if (audio.paused) {
                audio.play();
                ctrl.classList.add('playing');
            } else {
                audio.pause();
                ctrl.classList.remove('playing');
            }
        }

        // é¡µé¢åˆ‡æ¢
        function showPage(pageId) {
            // éšè—æ‰€æœ‰é¡µé¢
            document.getElementById('homePage').style.display = 'none';
            document.querySelectorAll('.sub-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            if (pageId === 'homePage') {
                document.getElementById('homePage').style.display = 'block';
            } else {
                document.getElementById(pageId).classList.add('active');
            }
        }

        // å£çº¸é¡µé¢åŠŸèƒ½
        function switchTab(type) {
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            const wallpapers = document.querySelectorAll('.wallpaper-item');
            wallpapers.forEach(wallpaper => {
                if (type === 'mobile') {
                    if (wallpaper.classList.contains('mobile-wallpaper')) {
                        wallpaper.style.display = 'block';
                    } else {
                        wallpaper.style.display = 'none';
                    }
                } else {
                    if (wallpaper.classList.contains('desktop-wallpaper')) {
                        wallpaper.style.display = 'block';
                    } else {
                        wallpaper.style.display = 'none';
                    }
                }
            });
        }

        function toggleLike(button) {
            button.classList.toggle('liked');
            const count = button.querySelector('.like-count');
            const currentCount = parseInt(count.textContent);
            count.textContent = button.classList.contains('liked') ? currentCount + 1 : currentCount - 1;
        }

        function downloadWallpaper(filename) {
            const link = document.createElement('a');
            link.href = `https://raw.githubusercontent.com/cochyu/xiadie_fansite/main/${filename}`;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            alert(`æ­£åœ¨ä¸‹è½½ ${filename}...`);
        }

        function uploadWallpaper() {
            alert('å£çº¸ä¸Šä¼ æˆåŠŸï¼\nï¼ˆå®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šå¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼‰');
        }

        // è®ºå›é¡µé¢åŠŸèƒ½
        let currentUser = null;

        function showLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('postForm').style.display = 'none';
            document.getElementById('forumPosts').style.display = 'block';
        }

        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email && password) {
                currentUser = {
                    email: email,
                    name: 'è¶è¯­è€…',
                    avatar: 'ğŸ¦‹'
                };
                updateUserInfo();
                alert('ç™»å½•æˆåŠŸï¼');
            } else {
                alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ï¼');
            }
        }

        function register() {
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const nickname = document.getElementById('nickname').value;
            
            if (email && password && nickname) {
                alert('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•ã€‚');
                showLogin();
            } else {
                alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ï¼');
            }
        }

        function updateUserInfo() {
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userInfo').querySelector('.avatar').textContent = currentUser.avatar;
                document.getElementById('loginForm').style.display = 'none';
            }
        }

        function showPostForm() {
            if (!currentUser) {
                alert('è¯·å…ˆç™»å½•ï¼');
                showLogin();
                return;
            }
            document.getElementById('postForm').style.display = 'block';
            document.getElementById('forumPosts').style.display = 'none';
        }

        function hidePostForm() {
            document.getElementById('postForm').style.display = 'none';
            document.getElementById('forumPosts').style.display = 'block';
        }

        function publishPost() {
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            
            if (title && content) {
                alert('å¸–å­å‘å¸ƒæˆåŠŸï¼');
                hidePostForm();
                // è¿™é‡Œå¯ä»¥æ·»åŠ æ–°å¸–å­åˆ°åˆ—è¡¨
            } else {
                alert('è¯·å¡«å†™å®Œæ•´å†…å®¹ï¼');
            }
        }

        function showComments() {
            alert('è¯„è®ºåŠŸèƒ½å¼€å‘ä¸­...');
        }

        // ç­”é¢˜é¡µé¢åŠŸèƒ½
        const quizQuestions = [
            {
                question: "éè¶çš„å‘½é€”æ˜¯ä»€ä¹ˆï¼Ÿ",
                options: ["æ¯ç­", "å·¡çŒ", "æ™ºè¯†", "è®°å¿†"],
                correct: 3
            },
            {
                question: "éè¶çš„æ ‡å¿—æ€§é¢œè‰²æ˜¯ï¼Ÿ",
                options: ["çº¢è‰²", "è“è‰²", "ç´«è‰²", "ç»¿è‰²"],
                correct: 2
            },
            {
                question: "éè¶çš„æŠ€èƒ½ç‰¹ç‚¹ä¸»è¦ä½“ç°ä¸ºï¼Ÿ",
                options: ["é«˜çˆ†å‘è¾“å‡º", "å›¢é˜Ÿæ²»ç–—", "æ§åˆ¶å‡ç›Š", "æŠ¤ç›¾é˜²å¾¡"],
                correct: 2
            },
            {
                question: "éè¶çš„è§’è‰²å®šä½æ˜¯ï¼Ÿ",
                options: ["ä¸»Cè¾“å‡º", "è¾…åŠ©æ²»ç–—", "å‰¯Cå…¼è¾…åŠ©", "çº¯é˜²å¾¡"],
                correct: 2
            },
            {
                question: "éè¶çš„å¿†çµæ˜¯ä»€ä¹ˆ",
                options: ["æ³¢å•å…‹æ–¯", "è¿·è¿·", "å°ä¼Šå¡", "å¾·è°¬æ­Œ"],
                correct: -1 // å¤šé€‰é¢˜
            }
        ];

        let currentQuestion = 0;
        let quizScore = 0;
        let quizStarted = false;

        function startQuiz() {
            quizStarted = true;
            currentQuestion = 0;
            quizScore = 0;
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= quizQuestions.length) {
                showResult();
                return;
            }

            const question = quizQuestions[currentQuestion];
            const quizContent = document.getElementById('quizContent');
            
            let html = `
                <div class="question">
                    <h3>é—®é¢˜ ${currentQuestion + 1}/${quizQuestions.length}</h3>
                    <h4>${question.question}</h4>
                    <div class="options">
            `;
            
            question.options.forEach((option, index) => {
                html += `
                    <div class="option" onclick="selectAnswer(${index})">
                        ${option}
                    </div>
                `;
            });
            
            html += `
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="back-btn" onclick="previousQuestion()">ä¸Šä¸€é¢˜</button>
                    <button class="upload-btn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
                </div>
            `;
            
            quizContent.innerHTML = html;
        }

        function selectAnswer(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');
        }

        function nextQuestion() {
            const selected = document.querySelector('.option.selected');
            if (!selected && currentQuestion < quizQuestions.length - 1) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            // è®¡ç®—åˆ†æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰
            if (selected) {
                quizScore += 20;
            }
            
            currentQuestion++;
            showQuestion();
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function showResult() {
            const quizContent = document.getElementById('quizContent');
            let level = '';
            let message = '';
            
            if (quizScore >= 80) {
                level = 'èµ„æ·±è¶å¨';
                message = 'æ­å–œï¼ä½ å¯¹éè¶çš„äº†è§£å·²ç»éå¸¸æ·±å…¥äº†ï¼';
            } else if (quizScore >= 60) {
                level = 'åˆæ ¼è¶å¨';
                message = 'ä¸é”™ï¼ä½ å¯¹éè¶æœ‰ä¸€å®šçš„äº†è§£ï¼Œç»§ç»­åŠªåŠ›ï¼';
            } else if (quizScore >= 40) {
                level = 'æ–°æ‰‹è¶å¨';
                message = 'åˆšå¼€å§‹äº†è§£éè¶å—ï¼Ÿæ¬¢è¿åŠ å…¥è¶å¨å¤§å®¶åº­ï¼';
            } else {
                level = 'è·¯äººç²‰';
                message = 'çœ‹æ¥ä½ è¿˜éœ€è¦å¤šäº†è§£éè¶å“¦~';
            }
            
            quizContent.innerHTML = `
                <div class="quiz-result">
                    <h3>æµ‹è¯•å®Œæˆï¼</h3>
                    <div class="result-score">${quizScore}åˆ†</div>
                    <div class="result-level">ç§°å·ï¼š${level}</div>
                    <p>${message}</p>
                    <button class="upload-btn" onclick="startQuiz()">é‡æ–°æµ‹è¯•</button>
                    <button class="back-btn" onclick="showPage('homePage')">è¿”å›ä¸»é¡µ</button>
                </div>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.onload = function() {
            // åˆå§‹æ˜¾ç¤ºæ‰‹æœºå£çº¸
            switchTab('mobile');
            console.log('éè¶çš„æ¸©é¦¨å°çªå·²åŠ è½½å®Œæˆï¼');
        };
    </script>
</body>
</html>

